<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Your GoToGo Ticket</title>
    <link rel="shortcut icon" href="assets/GoToGo Final Logos/GoToGo Final Logos/G2G Fleet - Inverse Black.png" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- At top of your HTML -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            background: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .ticket-scale-wrapper {
            /* Removed fixed height to allow content to dictate height */
            width: 375px; /* Keep this as the target width for your design */
            transform-origin: top left;
        }

        .ticket-wrapper {
            width: 375px; /* Keep this as the target width for your design */
            /* Removed fixed height here to allow content to dictate height */
            background: white;
            padding: 20px;
            padding-bottom: 40px; /* Generous bottom padding */
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            /* Removed overflow: hidden; to ensure all content is rendered for PDF */
        }

        .download-btn {
            margin: 20px;
            background: #f1c40f;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 6px;
            cursor: pointer;
            transition: 0.3s ease;
        }

        .download-btn:hover {
            background: #d4ac0d;
        }

        .ticket-scale-wrapper {
    width: 375px;
    margin: 0 auto;
    transform-origin: top center; /* âœ… Center the scale transform */
}

@media (max-width: 400px) {
    .ticket-scale-wrapper {
        transform: scale(0.9);
        margin: 0 auto;
    }
}

@media (max-width: 360px) {
    .ticket-scale-wrapper {
        transform: scale(0.8);
        margin: 0 auto;
    }
}

@media (max-width: 320px) {
    .ticket-scale-wrapper {
        transform: scale(0.75);
        margin: 0 auto;
    }
}



    </style>
</head>
<body>
<!-- <div style="width: 100%;">
    <img src="./assets/airport-bg.png" alt="Airport Background" width="100%" style="position: fixed; z-index: -1;">
</div> -->

<button onclick="generatePDF()" class="download-btn">Download Ticket</button>
<!-- <div style="display: flex; justify-content: center;"> -->
  <div class="ticket-scale-wrapper" id="ticket">
    <div class="ticket-wrapper">
        <div style="display: flex; justify-content: space-around; align-items: center; background: #eebd36; padding: 0px; gap: 20px;">
            <img src="./assets/logo.jpg" alt="GoToGo Logo" style="height: 40px; padding: 4px;">
            <div style="font-weight: bold; font-size: 12px;">SHUTTLE TO AIRPORT</div>
        </div>

        <div style="margin-top: 10px; display: flex; justify-content: space-between; ">
            <div>
  <div style="color: #737373; font-size: 12px; font-weight: bold;">NAME OF PASSENGER</div>
  <div id="passengerName" style="font-weight: bold; color: #004aad; font-size: 12px;">Loading...</div>
</div>

            <div style="display: flex; align-items: center;">
                <div style="color: #737373; font-size: 12px; font-weight: bold;">TICKET #</div>
                <div style="border: 2px solid #000; border-radius: 18px; padding: 5px 8px; font-weight: bold; color: #004aad; font-size: 12px;">G2G-AS-SH-001</div>
            </div>
        </div>

        <div style="margin-top: 10px; display: flex; justify-content: space-between;">
            <div>
                <div style="color: #737373; font-size: 12px; font-weight: bold;">SHUTTLE BOARDING TIME</div>
                <div style="display: flex; gap: 10px; margin-top: 5px; color: #004aad;">
                    <div id="boardingTime" style="font-weight: bold; text-align: center; border-radius: 50%; border: 2px solid #000; width: 30px; height: 30px; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2px; font-size: 12px;">
                        N<br><span style="font-size: 10px; font-weight: bold;">Am</span>
                    </div>
                    <div style="font-weight: bold; text-align: center; border-radius: 50%; border: 2px solid #000; width: 30px; height: 30px; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2px; font-size: 12px;">
                        7<br><span style="font-size: 10px; font-weight: bold;">Am</span>
                    </div>
                    <div style="font-weight: bold; text-align: center; border-radius: 50%; border: 2px solid #000; width: 30px; height: 30px; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2px; font-size: 12px;">
                        8<br><span style="font-size: 10px; font-weight: bold;">Am</span>
                    </div>
                </div>
            </div>
            <div>
                <div style="color: #737373; font-size: 12px; font-weight: bold;">DROP TERMINAL</div>
                <div style="display: flex; gap: 5px; margin-top: 5px; color: #004aad;">
                    <div style=" font-weight: bold; text-align: center; border-radius: 50%; border: 2px solid #000; width: 30px; height: 30px; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2px; font-size: 12px;">
                        T1
                    </div>
                    <div style=" font-weight: bold; text-align: center; border-radius: 50%; border: 2px solid #000; width: 30px; height: 30px; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2px; font-size: 12px;">
                        T2
                    </div>
                    <div style=" font-weight: bold; text-align: center; border-radius: 50%; border: 2px solid #000; width: 30px; height: 30px; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2px; font-size: 12px;">
                        T3
                    </div>
                </div>
            </div>
        </div>

        <div style="margin-top: 10px; display: flex; justify-content: space-between; font-size: 12px;">
            <div>
                <div style="color: #737373; font-weight: bold;">PICKUP DATE</div>
                <div style="font-weight: bold; color: #004aad;">MAY 01</div>
            </div>
            <div>
                <div style="color: #737373; font-weight: bold;">PICKUP LOCATION</div>
                <div style="font-weight: bold; color: #004aad;">SUNDAY HOTEL</div>
            </div>
        </div>

        <div style="margin-top: 10px; display: flex; justify-content: space-between; font-size: 12px;">
            <div>
                <div style="color: #737373;font-weight: bold;">PAYMENT STATUS</div>
                <div style="font-weight: bold; color: #004aad;">PAID</div>
            </div>
            <div>
                <div style="color: #737373;font-weight: bold;">PICKUP ADDRESS</div>
                <div style="font-weight: bold; color: #004aad;">Sec 66, GGN</div>
            </div>
        </div>

        <div style="border: 3px solid #eebd36; padding: 10px; margin-top: 10px; border-radius: 19px;">
            <div style="font-weight: bold; font-size: 12px; background: #eebd36; width: 230px; border-radius: 8px; padding: 2px; position: relative; top: -20px; left: 50px;">Travel Assistance: (+91) 7065 650 650</div>
            <div style="font-size: 8px; text-align: justify; margin-top: -10px;" >
                For <span style="font-weight: bold; color: #737373;">International Travel,</span> please arrive 4 hours before the flight.
                For <span style="font-weight: bold; color: #737373;">Domestic Travel,</span> please arrive 3 hours before the flight.
                Please take care of your belongings while on board.
            </div>
        </div>

        <div style="margin-top: 10px;">
            <h4 style="margin-bottom: 5px; font-size: 12px;">TERMS & CONDITIONS</h4>
            <ul style="font-size: 8px; padding-left: 20px; text-align: justify;">
                <li><strong>Seating Policy:</strong> Seats are not pre-assigned. Seating is strictly on a first-come, first-served basis.</li>
                <li><strong>Departure Timings:</strong> The shuttle will depart strictly as per the scheduled time. There will be no additional waiting. Passengers are requested to arrive at the pickup point well in advance to avoid missing the shuttle.</li>
                <li><strong>No-Show Policy:</strong> In case of a no-show, the booking will be considered fully charged and non-refundable.</li>
                <li><strong>Cancellation & Transfer:</strong> This ticket is non-cancellable, non-transferable, and non-refundable under normal circumstances.</li>
                <li><strong>Exceptions (Force Majeure):</strong> In the event of unforeseen conditions (e.g., natural disasters, strikes, etc.) affecting service operations, alternate arrangements or refunds will be offered based on the situation and feasibility.</li>
                <li><strong>Refund Processing:</strong> If a refund is applicable, it will be processed within 14 working days.</li>
                <li><strong>Service Disclaimer:</strong> GoToGo shall not be held responsible for flight delays, traffic disruptions, or external factors impacting pickup/drop timing.</li>
                <li><strong>Customer Support:</strong> For assistance, please contact our helpline: +91 7065 650 650.</li>
            </ul>
        </div>
        <div class="footer-image-container" style="text-align: center;">
            <img src="./assets/footer-ticket.png" alt="footer" width="100%">
        </div>
    </div>
</div>
<!-- </div> -->


<script>
async function generatePDF() {
    const element = document.getElementById('ticket');
    const canvas = await html2canvas(element, {
        scale: 3,
        useCORS: true,
        scrollY: 0
    });

    const imgData = canvas.toDataURL('image/jpeg', 1.0);
    const { jsPDF } = window.jspdf; // ðŸ‘ˆ Access jsPDF from global variable
    const pdf = new jsPDF({
        orientation: 'portrait',
        unit: 'px',
        format: [canvas.width, canvas.height]
    });

    pdf.addImage(imgData, 'JPEG', 0, 0, canvas.width, canvas.height);
    pdf.save('GoToGo-Ticket.pdf');
}
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const data = JSON.parse(localStorage.getItem("ticketData"));

  if (data) {
    document.getElementById("passengerNameDisplay").innerText = data.passengerNames[0] || 'N/A';
    document.getElementById("pickupDateDisplay").innerText = data.pickupDate;
    document.getElementById("pickupLocationDisplay").innerText = data.pickupLocation;
    document.getElementById("boardingTimeDisplay").innerText = data.boardingTime;
    document.getElementById("terminalDisplay").innerText = data.dropTerminal;
  }
});
</script>



</body>
</html>